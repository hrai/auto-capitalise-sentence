<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/dependencies/bootstrap.min.css" type="text/css" charset="utf-8">
</head>

<body>
    <div class="container" id="settings">
        <div id="header">
            <div id="box-img">
                <img src="../icons/auto-capitalise-sentence.png" id="logo"></img>
            </div>
            <div id="box-title">
                <h3>Auto-Capitalise Sentence</h3>
            </div>
        </div>
        <div id="body">
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="excluded-sites-tab" data-bs-toggle="tab"
                        data-bs-target="#excluded_sites" type="button" role="tab" aria-controls="excluded-sites"
                        aria-selected="true">Ignored sites</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="included-words-tab" data-bs-toggle="tab"
                        data-bs-target="#included_words" type="button" role="tab" aria-controls="included-words"
                        aria-selected="false">Always capitalise</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="excluded-words-tab" data-bs-toggle="tab"
                        data-bs-target="#excluded_words" type="button" role="tab" aria-controls="excluded-words"
                        aria-selected="false">Never capitalise</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="checkboxes-tab" data-bs-toggle="tab" data-bs-target="#checkboxes"
                        type="button" role="tab" aria-controls="checkboxes" aria-selected="false">Modes & options</button>
                </li>
            </ul>
            <div class="tab-content">
                                <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="excluded-sites-tab" id="excluded_sites">
                                    <div class="card mb-3 border-primary">
                                        <div class="card-header py-2 bg-primary text-white">Ignored Websites</div>
                                        <div class="card-body pt-3 pb-2">
                                            <small class="d-block mb-2">One domain per line. Text on these sites will be left untouched.</small>
                                            <textarea id="sites" rows="4" class="form-control mb-2" placeholder="example.com"></textarea>
                                            <div class="d-grid gap-2 mb-2">
                                                <input type="button" value="Save" id="submitButton" class="btn btn-primary btn-block" disabled>
                                                <input type="button" value="Add current site" id="ignoreSiteButton" class="btn btn-outline-primary btn-block">
                                            </div>
                                            <small class="text-muted">Matching domains are skipped entirely.</small>
                                        </div>
                                    </div>
                                    <!-- Performance card moved to sentence case mode section -->
                                </div>
                                <div class="tab-pane fade" role="tabpanel" aria-labelledby="included-words-tab" id="included_words">
                                    <div class="card border-success">
                                        <div class="card-header py-2 bg-success text-white">Always Capitalise</div>
                                        <div class="card-body pt-3 pb-2">
                                            <small class="d-block mb-2">One word per line. Only applies in Word Mode.</small>
                                            <textarea id="included_words_textbox" rows="4" class="form-control mb-2" placeholder="ProperNoun"></textarea>
                                            <div class="d-grid gap-2 mb-2">
                                                <input type="button" value="Save" id="submitButtonIncludedWords" class="btn btn-success btn-block" disabled>
                                            </div>
                                            <small class="text-muted">Stored casing is reused when capitalising.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" role="tabpanel" aria-labelledby="excluded-words-tab" id="excluded_words">
                                    <div class="card border-danger">
                                        <div class="card-header py-2 bg-danger text-white">Never Capitalise</div>
                                        <div class="card-body pt-3 pb-2">
                                            <small class="d-block mb-2">Higher priority than inclusion list. One per line.</small>
                                            <textarea id="excluded_words_textbox" rows="4" class="form-control mb-2" placeholder="dontCapitaliseMe"></textarea>
                                            <div class="d-grid gap-2 mb-2">
                                                <input type="button" value="Save" id="submitButtonExcludedWords" class="btn btn-danger btn-block" disabled>
                                            </div>
                                            <small class="text-muted">Use for exceptions and edge cases.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" role="tabpanel" aria-labelledby="checkboxes-tab" id="checkboxes">
                                                        <div class="d-flex mb-3" id="modeToggleGroup">
                                                            <button type="button" class="btn btn-sm btn-outline-primary w-100" id="modeToggleButton" data-mode="word">Enable Sentence Case Mode</button>
                                                        </div>
                                    <div id="modeSectionsWrapper" class="mb-3">
                                                                            <div id="sentenceModeSection" class="mode-section mb-3 border rounded p-2 bg-light" data-mode="sentence">
                                        <h6 class="text-primary mb-2">Sentence Case Mode</h6>
                                        <!-- Hidden input retained for existing logic hooks -->
                                        <input type="hidden" id="shouldConvertToSentenceCase" name="shouldConvertToSentenceCase" />
                                        <p class="mb-2 small text-muted">Automatically capitalises the start of each sentence and ignores all word-level rules while active.</p>
                                        <div id="sentence_case_hint" class="alert alert-info py-1 px-2 mt-2 d-none" role="alert" style="font-size:12px;">
                                            Sentence case active. Word-level options below are paused.
                                        </div>
                                                                                <div class="card mt-3 mb-1 border-secondary sentence-performance" id="sentencePerformanceCard">
                                                                                    <div class="card-header py-1 bg-secondary text-white">Performance & Timing</div>
                                                                                    <div class="card-body pt-2 pb-2">
                                                                                        <label for="debounce_delay_ms" class="form-label mb-1">Processing Delay (ms)</label>
                                                                                        <input type="number" id="debounce_delay_ms" class="form-control form-control-sm" min="0" max="60000" step="100" placeholder="5000" />
                                                                                        <div class="form-text">Wait time after typing stops before sentence case runs. 0 = instant.</div>
                                                                                        <div id="debounce_delay_status" class="small text-muted mt-1"></div>
                                                                                    </div>
                                                                                </div>
                                      </div>
                                      <div id="wordModeSection" class="mode-section mb-2 border rounded p-2" data-mode="word">
                                        <h6 class="text-secondary mb-2">Word Mode Options</h6>
                                        <div class="form-check mb-1">
                                            <input type="checkbox" id="shouldEnableAllWordCapitalisation" class="form-check-input">
                                            <label for="shouldEnableAllWordCapitalisation" class="form-check-label"><strong>Toggle all options below</strong></label><br>
                                            <small class="text-muted">Quick master switch for the individual rules.</small>
                                        </div>
                                        <div id="wordOptionsNested" class="ms-3 ps-2 border-start mb-2">
                                            <div class="form-check mb-1">
                                                <input type="checkbox" id="shouldCapitaliseI" name="shouldCapitaliseI" class="form-check-input" checked>
                                                <label for="shouldCapitaliseI" class="form-check-label">Capitalise standalone 'i'</label>
                                            </div>
                                            <div class="form-check mb-1">
                                                <input type="checkbox" id="shouldCapitaliseAcronyms" name="shouldCapitaliseAcronyms" class="form-check-input"
                                                    checked>
                                                <label for="shouldCapitaliseAcronyms" class="form-check-label">Capitalise acronyms & abbreviations</label>
                                            </div>
                                            <div class="form-check mb-1">
                                                <input type="checkbox" id="shouldCapitaliseNames" name="shouldCapitaliseNames" class="form-check-input" checked>
                                                <label for="shouldCapitaliseNames" class="form-check-label">Capitalise names</label>
                                            </div>
                                            <div class="form-check mb-1">
                                                <input type="checkbox" id="shouldCapitaliseLocations" name="shouldCapitaliseLocations" class="form-check-input"
                                                    checked>
                                                <label for="shouldCapitaliseLocations" class="form-check-label">Capitalise locations</label>
                                            </div>
                                        </div>
                                        <small class="text-muted">Disabled while sentence case is active.</small>
                                      </div>
                                    </div>
                                </div>
            </div>
        </div>
        <hr>
        <div id="footer">
            <a href="https://github.com/sponsors/hrai" target="_blank" class="btn btn-info btn-sm" role="button">💖
                Donate</a>
            <a href="https://github.com/hrai/auto-capitalise-sentence" target="_blank" class="btn btn-info btn-sm"
                role="button">☁️ GitHub</a>
            <a href="https://github.com/hrai/auto-capitalise-sentence/issues/new" target="_blank"
                class="btn btn-info btn-sm" role="button">🐛 Raise issues</a>
        </div>


    </div>
    <script charset="utf-8" src="/dependencies/jquery.min.js"></script>
    <script charset="utf-8" src="/dependencies/bootstrap.min.js"></script>
    <script charset="utf-8" src="/lib/settings.bundle.js"></script>
</body>

</html>

<style type="text/css">
    :root {
        --acs-bg: #f5f8fb;
        --acs-accent: #0d6efd;
        --acs-accent-soft: #0d6efd12;
        --acs-border: #d8e2ec;
        --acs-radius-sm: 6px;
        --acs-radius: 10px;
        --acs-shadow: 0 1px 2px rgba(0,0,0,0.06), 0 4px 14px -6px rgba(0,0,0,0.12);
        --acs-gradient: linear-gradient(135deg,#0d6efd,#6610f2);
    }

    body { background: var(--acs-bg); font-size: 14px; }
    #settings { width: 560px; padding-bottom: 4px; }
    .btn { padding-top: 3px; }
    hr { margin: 6px 0 4px; opacity: .4; }

    /* Header */
    #header { display:flex; flex-direction:row; align-items:center; gap:14px; padding:10px 4px 4px; margin:0 0 6px; background: transparent; border-bottom:1px solid var(--acs-border); border-radius:0; box-shadow:none; }
    #logo { height:60px; width:60px; border-radius:12px; box-shadow:0 2px 6px -2px rgba(0,0,0,.25); background:#fff; padding:4px; }
    #box-img { width:auto; padding:0; }
    #box-title { width:100%; padding:0; }
    #box-title>h3 { color:#1d3557; font-weight:600; letter-spacing:.5px; text-shadow:none; margin:0; font-size:1.15rem; background:linear-gradient(90deg,#1d3557,#274766); -webkit-background-clip:text; background-clip:text; color:transparent; }

    /* Tabs */
    .nav-tabs { border-bottom: 2px solid var(--acs-border); gap:4px; margin-bottom: 12px; }
    .nav-tabs .nav-link { border-radius: var(--acs-radius-sm) var(--acs-radius-sm) 0 0; position:relative; padding:.4rem .9rem; color:#495866; background: #eef3f8; border:1px solid #d5dee7; border-bottom:none; font-weight:500; }
    .nav-tabs .nav-link:not(.active):hover { background:#e1eaf1; border-color:#c7d5e2; }
    .nav-tabs .nav-link.active { background:#fff; font-weight:600; color:#0d4a7f; border:1px solid #c5d3e0; border-bottom: 2px solid #fff; box-shadow:0 2px 4px -2px rgba(0,0,0,.15); }
    .tab-content { padding: 2px 2px 8px; }

    /* Cards */
    .card { border-radius: var(--acs-radius); border:1px solid var(--acs-border); box-shadow: var(--acs-shadow); overflow:hidden; }
    .card-header { font-size:.75rem; text-transform:uppercase; letter-spacing: .08em; background:linear-gradient(135deg,#4e6e91,#2a4664) !important; opacity:.95; }
    .card-header.bg-success { background: linear-gradient(135deg,#2e7d32,#1b5e20)!important; }
    .card-header.bg-danger { background: linear-gradient(135deg,#c62828,#8e0000)!important; }
    .card-header.bg-primary { background: linear-gradient(135deg,#0d6efd,#0a58ca)!important; }
    .card-header.bg-secondary { background: linear-gradient(135deg,#6c757d,#495057)!important; }
    .card-body { background:#fff; }

    /* Mode sections */
    #modeSectionsWrapper { display:flex; flex-direction:column; gap:14px; }
    .mode-section { background:#fff; border:1px solid var(--acs-border); border-radius: var(--acs-radius); position:relative; box-shadow: var(--acs-shadow); }
    .mode-section h6 { font-weight:600; font-size:.8rem; text-transform:uppercase; letter-spacing:.06em; }
    .mode-section.active { box-shadow:0 0 0 2px var(--acs-accent-soft), var(--acs-shadow); }
    .mode-section.inactive { filter: blur(1px) grayscale(30%); opacity:.6; }
    .mode-section.inactive::after { top:10px; right:10px; background: var(--acs-accent); font-size:9px; padding:2px 7px; }

    /* Toggle button */
    #modeToggleButton { font-size:.75rem; letter-spacing:.05em; text-transform:uppercase; border-radius: 40px; padding:.45rem .9rem; box-shadow:0 2px 6px -2px rgba(0,0,0,.35); }
    #modeToggleGroup { position:sticky; top:0; z-index:5; background:linear-gradient(#fff,#f2f5f8); padding:4px 4px 6px; border-radius: var(--acs-radius-sm); box-shadow:0 2px 4px -2px rgba(0,0,0,.2); }

    /* Forms */
    textarea.form-control { font-family: Menlo, Consolas, monospace; font-size:12px; resize:vertical; }
    .form-check-label { cursor:pointer; }
    #wordOptionsNested { background:#f9fbfc; border-left:4px solid var(--acs-accent); border-radius:0 var(--acs-radius-sm) var(--acs-radius-sm) 0; padding-top:6px; padding-bottom:4px; }
    #wordOptionsNested .form-check { padding-left:4px; }

    /* Footer */
    #footer { display:flex; flex-direction:row; justify-content:space-between; margin-top:4px; }
    #footer a { flex:1 1 auto; margin:4px; border-radius: var(--acs-radius-sm); background:#fff; border:1px solid #cfd9e3; color:#0d4a7f; box-shadow:0 2px 4px -2px rgba(0,0,0,.15); }
    #footer a:hover { background:#f0f5fa; }

    /* Small helpers */
    .form-text, small.text-muted { font-size:11px; }
    #sentence_case_hint { font-size:11px!important; border-radius: var(--acs-radius-sm); }
    #debounce_delay_ms { max-width: 140px; }
    .border-start { border-color: var(--acs-border)!important; }
    .alert-info { background:#e7f3ff; border-color:#b6dbff; color:#0f4675; }

    /* Scrollbar subtle styling (WebKit + fallback) */
    ::-webkit-scrollbar { width:10px; }
    ::-webkit-scrollbar-track { background: #eef3f7; }
    ::-webkit-scrollbar-thumb { background:#c2ced9; border-radius:20px; border:2px solid #eef3f7; }
    ::-webkit-scrollbar-thumb:hover { background:#aebbc7; }
</style>

<!-- Retained transitional effect definitions (already merged into main style above) -->
